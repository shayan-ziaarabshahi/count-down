<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
    <script src="./app.js"></script>
</head>

<body>
    <div class="main" id="main">
        <div class="year" id="year"></div>
        <h1>new year countdown</h1>
        <div class="countdown" id="countdown">
            <div class="time">
                <h2 id="days">00</h2>
                <small>days</small>
            </div>
            <div class="time">
                <h2 id="hours">00</h2>
                <small>hours</small>
            </div>
            <div class="time">
                <h2 id="minutes">00</h2>
                <small>minutes</small>
            </div>
            <div class="time">
                <h2 id="seconds">00</h2>
                <small>seconds</small>
            </div>
        </div>
    </div>

    <div class="spinner" id="spinner">
        <span class="loading"></span>
    </div>

    <script>

        let days = document.getElementById("days");
        let hours = document.getElementById("hours");
        let minutes = document.getElementById("minutes");
        let seconds = document.getElementById("seconds");

        let currentYear = new Date().getFullYear();
        let newYear = new Date(`March 16 ${currentYear + 1} 00:00:00`);
        let dif;

        let giveDif = () => {
            let currentTime = new Date()
            dif = newYear - currentTime

            let d = Math.floor(dif / 1000 / 60 / 60 / 24);
            let h = Math.floor(dif / 1000 / 60 / 60) % 24;
            let m = Math.floor(dif / 1000 / 60) % 60;
            let s = Math.floor(dif / 1000) % 60;

            days.innerHTML = d;
            hours.innerHTML = h;
            minutes.innerHTML = m;
            seconds.innerHTML = s;

            document.getElementById("year").innerHTML = currentYear;
        }

        setInterval(giveDif, 1000);
        setTimeout(() => {
            document.getElementById("main").style.display = "initial";
            document.getElementById("spinner").style.display = "none";
        }, 2000)
    </script>
</body>

</html>

